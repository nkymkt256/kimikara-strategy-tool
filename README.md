# kimikara-strategy-tool

レッスンの作戦入力・振り返り・目標管理を行うGoogle Apps Script (GAS) Webアプリケーション

## 概要

このシステムは、教育レッスンの運営を効率化するためのツールです。レッスン前の作戦立案から、レッスン後の振り返り、そしてAIによるスライド自動生成まで、一連のワークフローをサポートします。

## 主な機能

### ✅ 実装済み機能

1. **レッスン作戦入力**
   - 当日担当する生徒（1~5人）を選択
   - 各生徒の目標と前回レッスン履歴を自動表示
   - 当日の作戦を入力
   - ローカルストレージで自動保存（リロード対応）

2. **レッスン振り返り・結果入力**
   - 保存した作戦を表示
   - 実行結果と振り返りメモを入力
   - 次回やることを記録

3. **AI連携スライド生成**
   - Gemini APIで振り返りをもとにスライド内容を自動生成
   - Google Slides APIでプレゼンテーションを作成
   - Toast通知でリアルタイムフィードバック

4. **データ管理**
   - Googleスプレッドシートでデータ永続化
   - 生徒一覧、目標、レッスン履歴を一元管理

### 🔜 今後実装予定

- レッスン企画生成ページ
- 目標管理ページ
- レポート出力機能

## 技術スタック

- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **バックエンド**: Google Apps Script
- **AI**: Google Gemini (Vertex AI)
- **データストレージ**: Google Spreadsheets
- **ファイル管理**: Google Drive
- **プレゼンテーション**: Google Slides API

## アーキテクチャ

### マイクロアーキテクチャ設計

```
[クライアント (SPA)]
    ↓ google.script.run
[Main.gs (コントローラ)]
    ↓
[サービス層]
├── SpreadsheetService.gs (データ永続化)
├── GeminiService.gs (AI連携)
├── SlideService.gs (スライド生成)
└── DriveService.gs (ファイル管理)
```

各サービスは疎結合で、単一責任の原則に従って設計されています。

## セットアップ

詳細は [SETUP.md](./SETUP.md) を参照してください。

### クイックスタート

1. Google Apps Scriptプロジェクトを作成
2. 各ファイルをアップロード（`.txt`拡張子を削除）
3. GCPプロジェクトを作成・連携
4. 必要なAPIを有効化
5. スプレッドシートを準備
6. スクリプトプロパティを設定
7. デプロイ

## ファイル構成

```
.
├── README.md                      # このファイル
├── SETUP.md                       # セットアップガイド
├── 実装計画書.md                   # 実装計画書
├── スターターガイド.md              # アーキテクチャ設計書
├── Settings.gs.txt                # 設定ファイル
├── Main.gs.txt                    # メインコントローラ
├── SpreadsheetService.gs.txt      # スプレッドシート操作
├── GeminiService.gs.txt           # Gemini API連携
├── SlideService.gs.txt            # スライド生成
├── DriveService.gs.txt            # ドライブ操作
├── index.html.txt                 # メインHTML + CSS + JS
├── Header.html.txt                # ナビゲーションヘッダー
├── Page-StrategyInput.html.txt    # 作戦入力ページ
├── Page-StrategyView.html.txt     # 作戦表示ページ
├── Page-GoalManagement.html.txt   # 目標管理ページ
└── appsscript.json.txt            # マニフェスト
```

## 使い方

### 1. 作戦入力

1. 「作戦入力」ページにアクセス
2. 今日の生徒数を選択（1~5人）
3. 各生徒を選択すると、目標と前回レッスンが表示される
4. 今日の作戦を入力
5. 「作戦を保存」ボタンをクリック

### 2. レッスン実施

レッスン中は、入力した作戦を参考に進行

### 3. 振り返りとスライド生成

1. 「作戦表示」ページにアクセス
2. 実行結果、振り返りメモ、次回やることを入力
3. 「振り返りを保存してスライド生成」ボタンをクリック
4. スライドが自動生成され、URLが表示される

## スプレッドシート構造

### 全生徒一覧シート

| ID | 名前 | 連絡先 |
|----|------|--------|
| 001 | 山田太郎 | yamada@example.com |

### レッスンふりかえりシート

| 日付 | 生徒ID | 作戦 | 種別 | 振り返り | 次回やること |
|------|--------|------|------|----------|--------------|

### 目標一覧シート

| 生徒ID | 目標タイプ | 内容 |
|--------|------------|------|
| 001 | 長期 | ... |
| 001 | 中期 | ... |
| 001 | 短期 | ... |

## 貢献

バグ報告や機能リクエストは、GitHubのIssuesでお願いします。

## ライセンス

MIT License

## 作者

開発: Claude Code + nakayamakota
