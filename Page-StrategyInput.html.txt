<!-- Page-StrategyInput.html -->
<section class="strategy-input-container">
  <h2>レッスン当日作戦入力</h2>

  <div class="strategy-container">
    <!-- 生徒数選択 -->
    <div class="form-group">
      <label for="student-count">今日の生徒数:</label>
      <select id="student-count" onchange="handleStudentCountChange()">
        <option value="">選択してください</option>
        <option value="1">1人</option>
        <option value="2">2人</option>
        <option value="3">3人</option>
        <option value="4">4人</option>
        <option value="5">5人</option>
      </select>
    </div>

    <!-- 動的に生成される生徒選択・作戦入力エリア -->
    <div id="students-area"></div>

    <!-- 保存ボタン -->
    <div class="action-buttons">
      <button id="save-strategy-btn" onclick="saveStrategyToServer()" disabled>作戦を保存</button>
      <button onclick="clearLocalStorage()">入力をクリア</button>
    </div>

    <div id="save-status"></div>
  </div>
</section>

<template id="student-form-template">
  <div class="student-form" data-index="">
    <h3>生徒 <span class="student-number"></span></h3>

    <div class="form-group">
      <label>生徒選択:</label>
      <select class="student-select" onchange="loadStudentData(this)">
        <option value="">選択してください</option>
      </select>
    </div>

    <div class="student-info" style="display:none;">
      <div class="info-section">
        <h4>目標</h4>
        <div class="student-goals"></div>
      </div>

      <div class="info-section">
        <h4>前回のレッスン</h4>
        <div class="student-history"></div>
      </div>

      <div class="form-group">
        <label>今日の作戦:</label>
        <textarea class="strategy-input" rows="5" placeholder="今日のレッスンで取り組む内容を入力してください..." oninput="autoSaveStrategy()"></textarea>
      </div>
    </div>
  </div>
</template>
